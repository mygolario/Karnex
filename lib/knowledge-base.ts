/**
 * Knowledge Base - Central repository of explanations for Karnex
 * All content is in Persian for Iranian users
 */

// ============================================
// ROADMAP TASK EXPLANATIONS
// ============================================
export interface TaskGuide {
  title: string;
  description: string;
  steps: string[];
  tools?: { name: string; link?: string; free?: boolean }[];
  difficulty: "easy" | "medium" | "hard";
  timeEstimate: string;
  tips?: string[];
}

export const roadmapTaskGuides: Record<string, TaskGuide> = {
  // Website Related
  "website": {
    title: "ساخت وب‌سایت",
    description: "وب‌سایت یعنی یک صفحه در اینترنت که مشتریان می‌توانند اطلاعات کسب‌وکار شما را ببینند و با شما ارتباط بگیرند. نیازی به دانش فنی ندارید!",
    steps: [
      "یک نام دامنه (مثل yourname.ir) انتخاب کنید - از سایت nic.ir می‌توانید ثبت کنید",
      "یک ابزار سایت‌ساز مثل وردپرس یا ویکس انتخاب کنید",
      "یک قالب آماده و زیبا انتخاب کنید",
      "اطلاعات کسب‌وکار، تصاویر و راه‌های ارتباطی را اضافه کنید",
      "سایت را منتشر کنید و لینک را در شبکه‌های اجتماعی بگذارید"
    ],
    tools: [
      { name: "وردپرس فارسی", link: "https://developer.wordpress.org/advanced-administration/before-install/in-your-language/", free: true },
      { name: "ویکس (Wix)", link: "https://www.wix.com", free: true },
      { name: "سابل (ایرانی)", link: "https://sabble.ir", free: false },
    ],
    difficulty: "medium",
    timeEstimate: "۳-۵ روز",
    tips: [
      "اول با نسخه رایگان شروع کنید تا یاد بگیرید",
      "از قالب‌های آماده استفاده کنید، نیازی به طراحی از صفر نیست",
      "شماره تماس و واتساپ را حتماً در سایت بگذارید"
    ]
  },

  "instagram": {
    title: "راه‌اندازی صفحه اینستاگرام",
    description: "اینستاگرام بزرگترین شبکه اجتماعی در ایران است. یک صفحه حرفه‌ای می‌تواند مشتریان زیادی برای شما بیاورد.",
    steps: [
      "یک اکانت تجاری (Business) بسازید نه شخصی",
      "عکس پروفایل حرفه‌ای (لوگو یا عکس محصول) بگذارید",
      "بیو را با توضیح کوتاه کسب‌وکار و شماره تماس پر کنید",
      "۹ پست اولیه با عکس‌های باکیفیت منتشر کنید",
      "هشتگ‌های مرتبط با کسب‌وکارتان پیدا کنید"
    ],
    tools: [
      { name: "کانوا (طراحی پست)", link: "https://www.canva.com", free: true },
      { name: "لایت‌روم موبایل", free: true },
    ],
    difficulty: "easy",
    timeEstimate: "۱-۲ روز",
    tips: [
      "روزی ۱ استوری حداقل بگذارید",
      "به کامنت‌ها سریع جواب دهید",
      "از ریلز استفاده کنید چون بازدید بیشتری دارد"
    ]
  },

  "telegram": {
    title: "راه‌اندازی کانال تلگرام",
    description: "تلگرام برای ارتباط مستقیم با مشتریان و اطلاع‌رسانی عالی است. می‌توانید محتوا، قیمت‌ها و اخبار را به اشتراک بگذارید.",
    steps: [
      "یک کانال عمومی با نام برند خود بسازید",
      "توضیحات کانال را کامل بنویسید",
      "لینک کانال را در اینستاگرام و جاهای دیگر بگذارید",
      "محتوای ارزشمند و منظم منتشر کنید"
    ],
    difficulty: "easy",
    timeEstimate: "۱ روز",
    tips: [
      "از ربات‌ها برای پاسخگویی خودکار استفاده کنید",
      "زیاد تبلیغ نکنید، محتوای مفید بدهید"
    ]
  },

  "logo": {
    title: "طراحی لوگو",
    description: "لوگو نشان‌دهنده هویت برند شماست. یک لوگوی ساده و به‌یادماندنی کافی است - نیازی به پیچیدگی نیست!",
    steps: [
      "چند لوگوی برندهای موفق را ببینید و الهام بگیرید",
      "یک ابزار آنلاین رایگان مثل کانوا باز کنید",
      "از قالب‌های لوگوی آماده استفاده کنید",
      "رنگ‌های برند خود را اعمال کنید",
      "فرمت PNG با پس‌زمینه شفاف دانلود کنید"
    ],
    tools: [
      { name: "کانوا", link: "https://www.canva.com", free: true },
      { name: "Looka", link: "https://looka.com", free: true },
    ],
    difficulty: "easy",
    timeEstimate: "۲-۳ ساعت",
    tips: [
      "لوگو باید در سایز کوچک هم خوانا باشد",
      "از ۲-۳ رنگ بیشتر استفاده نکنید",
      "فونت خوانا انتخاب کنید"
    ]
  },

  "validation": {
    title: "اعتبارسنجی ایده",
    description: "قبل از سرمایه‌گذاری زیاد، باید مطمئن شوید مردم واقعاً محصول شما را می‌خواهند. این کار ریسک شکست را کم می‌کند.",
    steps: [
      "با ۱۰-۲۰ نفر از مخاطبان هدف صحبت کنید",
      "از آن‌ها بپرسید آیا این مشکل را دارند",
      "ببینید الان چطور این مشکل را حل می‌کنند",
      "بپرسید حاضرند برای راه‌حل شما پول بدهند",
      "نتایج را یادداشت کنید و تحلیل کنید"
    ],
    difficulty: "medium",
    timeEstimate: "۱ هفته",
    tips: [
      "سوالات باز بپرسید، نه بله/خیر",
      "گوش کنید، نفروشید!",
      "اگر ۷ از ۱۰ نفر علاقه نشان دادند، ایده خوب است"
    ]
  },

  "mvp": {
    title: "ساخت MVP (نسخه اولیه)",
    description: "MVP یعنی ساده‌ترین نسخه محصول که مشکل اصلی را حل کند. هدف سرعت است نه کمال!",
    steps: [
      "فقط ۱-۲ ویژگی اصلی را انتخاب کنید",
      "با کمترین هزینه و زمان بسازید",
      "به چند مشتری اولیه بدهید و بازخورد بگیرید",
      "بر اساس بازخورد بهبود دهید"
    ],
    difficulty: "medium",
    timeEstimate: "۲-۴ هفته",
    tips: [
      "کمال‌گرایی دشمن پیشرفت است",
      "اول بفروشید، بعد بسازید (در صورت امکان)",
      "از ابزارهای بدون کد استفاده کنید"
    ]
  },

  "pricing": {
    title: "قیمت‌گذاری محصول",
    description: "قیمت درست = سود خوب + مشتری راضی. نه خیلی ارزان (ضرر) نه خیلی گران (بدون مشتری).",
    steps: [
      "هزینه‌های خود را محاسبه کنید (مواد + زمان + سربار)",
      "قیمت رقبا را بررسی کنید",
      "ارزشی که به مشتری می‌دهید را در نظر بگیرید",
      "حداقل ۳۰-۵۰% سود روی هزینه بگذارید",
      "با چند قیمت مختلف تست کنید"
    ],
    difficulty: "medium",
    timeEstimate: "۲-۳ روز",
    tips: [
      "از قیمت‌های رند استفاده کنید (۹۹,۰۰۰ بهتر از ۱۰۰,۰۰۰)",
      "بسته‌های مختلف ارائه دهید",
      "تخفیف اولین خرید بدهید"
    ]
  },

  "content": {
    title: "تولید محتوا",
    description: "محتوای خوب = مشتری رایگان. با آموزش دادن و اطلاعات مفید، اعتماد می‌سازید.",
    steps: [
      "سوالات متداول مشتریان را لیست کنید",
      "برای هر سوال یک پست یا ویدیو کوتاه بسازید",
      "از کانوا برای طراحی استفاده کنید",
      "یک تقویم محتوا بسازید (۳ پست در هفته)",
      "منظم منتشر کنید"
    ],
    tools: [
      { name: "کانوا", link: "https://www.canva.com", free: true },
      { name: "CapCut", free: true },
    ],
    difficulty: "easy",
    timeEstimate: "مداوم",
    tips: [
      "ویدیو بازدید بیشتری دارد",
      "از تجربیات واقعی مشتریان استفاده کنید",
      "هر پست یک پیام داشته باشد"
    ]
  },

  "payment": {
    title: "راه‌اندازی درگاه پرداخت",
    description: "برای دریافت پول آنلاین نیاز به درگاه پرداخت دارید. در ایران چند گزینه خوب وجود دارد.",
    steps: [
      "یکی از درگاه‌های ایرانی را انتخاب کنید",
      "ثبت‌نام کنید و مدارک را ارسال کنید",
      "منتظر تایید بمانید (معمولاً ۲-۳ روز)",
      "درگاه را به سایت یا اپ متصل کنید"
    ],
    tools: [
      { name: "زرین‌پال", link: "https://zarinpal.com", free: true },
      { name: "آیدی‌پی", link: "https://idpay.ir", free: true },
      { name: "پی‌پینگ", link: "https://payping.ir", free: true },
    ],
    difficulty: "medium",
    timeEstimate: "۳-۵ روز",
    tips: [
      "کارمزد درگاه‌ها را مقایسه کنید",
      "اول بدون درگاه کار کنید (کارت به کارت)",
      "نماد اعتماد الکترونیکی بگیرید"
    ]
  },

  "enamad": {
    title: "دریافت نماد اعتماد الکترونیکی",
    description: "نماد اعتماد (ای‌نماد) نشان می‌دهد کسب‌وکار شما قانونی است و مشتریان راحت‌تر خرید می‌کنند.",
    steps: [
      "به سایت enamad.ir بروید و ثبت‌نام کنید",
      "اطلاعات کسب‌وکار و سایت را وارد کنید",
      "مدارک مورد نیاز را آپلود کنید",
      "منتظر بررسی و تایید بمانید",
      "کد نماد را در سایت قرار دهید"
    ],
    tools: [
      { name: "سامانه ای‌نماد", link: "https://enamad.ir", free: false },
    ],
    difficulty: "medium",
    timeEstimate: "۱-۲ هفته",
    tips: [
      "اطلاعات تماس واقعی بگذارید",
      "شرایط خدمات و حریم خصوصی بنویسید",
      "برای درگاه پرداخت، ای‌نماد الزامی است"
    ]
  }
};


// ============================================
// BUSINESS CANVAS EXPLANATIONS
// ============================================
export const canvasExplanations = {
  problem: {
    title: "مشکل مشتری",
    simple: "مشتری شما چه دردسر یا نیازی دارد که می‌خواهید حل کنید؟",
    detailed: "هر کسب‌وکار موفق یک مشکل واقعی را حل می‌کند. این مشکل باید آنقدر مهم باشد که مردم حاضر باشند برای حل آن پول بدهند. مثال: 'پیدا کردن رستوران خوب در شهر سخت است'",
    example: "مثال: 'والدین شاغل وقت کافی برای پخت غذای سالم ندارند'"
  },
  solution: {
    title: "راه‌حل شما",
    simple: "شما چطور این مشکل را حل می‌کنید؟",
    detailed: "راه‌حل شما باید ساده، قابل فهم و بهتر از گزینه‌های فعلی باشد. نیازی نیست پیچیده یا انقلابی باشد!",
    example: "مثال: 'ارسال غذای خانگی آماده با مواد تازه به درب منزل'"
  },
  uniqueValue: {
    title: "ارزش منحصربه‌فرد",
    simple: "چرا مشتری باید شما را انتخاب کند، نه رقیب را؟",
    detailed: "این همان چیزی است که شما را متفاوت می‌کند. می‌تواند قیمت، کیفیت، سرعت، یا تجربه خاص باشد.",
    example: "مثال: 'تنها سرویس غذای خانگی با گواهی سلامت و ضمانت بازگشت وجه'"
  },
  revenueStream: {
    title: "مدل درآمدی",
    simple: "چطور پول درمی‌آورید؟",
    detailed: "روش‌های مختلفی وجود دارد: فروش مستقیم، اشتراک ماهانه، کمیسیون، تبلیغات و... مهم این است که مدل پایدار باشد.",
    example: "مثال: 'اشتراک هفتگی ۵ وعده غذا + فروش تکی'"
  },
  // New 5 blocks for full Business Model Canvas
  customerSegments: {
    title: "بخش‌های مشتریان",
    simple: "دقیقاً چه کسانی مشتری شما هستند؟",
    detailed: "مشتریان خود را دسته‌بندی کنید. هر گروه نیازها و رفتارهای متفاوتی دارد. مثلاً: جوانان ۱۸-۲۵ ساله شهری، مادران شاغل، کسب‌وکارهای کوچک",
    example: "مثال: 'خانواده‌های شهری با درآمد متوسط که به سلامت غذا اهمیت می‌دهند'"
  },
  keyActivities: {
    title: "فعالیت‌های کلیدی",
    simple: "چه کارهای اصلی باید انجام دهید تا کسب‌وکار کار کند؟",
    detailed: "فعالیت‌هایی که بدون آن‌ها کسب‌وکار نمی‌تواند ارزش ایجاد کند. مثلاً: تولید، بازاریابی، پشتیبانی، تحقیق و توسعه",
    example: "مثال: 'پخت غذا، بسته‌بندی بهداشتی، ارسال سریع، پاسخگویی به مشتری'"
  },
  keyResources: {
    title: "منابع کلیدی",
    simple: "برای اجرای کسب‌وکار به چه منابعی نیاز دارید؟",
    detailed: "منابع می‌تواند فیزیکی (تجهیزات)، انسانی (تیم)، مالی (سرمایه) یا فکری (دانش، برند) باشد.",
    example: "مثال: 'آشپزخانه صنعتی، آشپز ماهر، موتور ارسال، اپلیکیشن سفارش'"
  },
  keyPartners: {
    title: "شرکای کلیدی",
    simple: "چه کسانی می‌توانند به شما کمک کنند؟",
    detailed: "شرکا می‌توانند تأمین‌کنندگان، توزیع‌کنندگان، یا حتی رقبا باشند که با آن‌ها همکاری می‌کنید. شراکت هزینه‌ها را کم و توانایی‌ها را زیاد می‌کند.",
    example: "مثال: 'کشاورزان محلی برای مواد تازه، پیک موتوری برای ارسال، اینفلوئنسرها برای تبلیغات'"
  },
  costStructure: {
    title: "ساختار هزینه",
    simple: "هزینه‌های اصلی کسب‌وکار چیست؟",
    detailed: "همه هزینه‌های ثابت (اجاره، حقوق) و متغیر (مواد اولیه، بسته‌بندی) را لیست کنید. باید کمتر از درآمد باشد!",
    example: "مثال: 'مواد اولیه ۴۰٪، حقوق تیم ۳۰٪، بازاریابی ۱۵٪، اجاره و سربار ۱۵٪'"
  }
};


// ============================================
// BRAND KIT EXPLANATIONS
// ============================================
export const brandKitExplanations = {
  colors: {
    title: "رنگ‌های برند",
    tip: "رنگ‌ها احساس ایجاد می‌کنند. از این رنگ‌ها در همه جا استفاده کنید: سایت، پست‌ها، کارت ویزیت",
    usage: [
      "رنگ اصلی: برای دکمه‌ها، لینک‌ها و عناصر مهم",
      "رنگ مکمل: برای پس‌زمینه‌ها و تأکید ثانویه",
      "سفید/مشکی: برای متن و خوانایی"
    ]
  },
  typography: {
    title: "فونت برند",
    tip: "یک فونت ثابت در همه جا باعث می‌شود برند شما حرفه‌ای به نظر برسد.",
    usage: [
      "تیترها: سایز بزرگ و بولد",
      "متن: سایز معمولی برای خوانایی",
      "در تمام پست‌های اینستاگرام از همین فونت استفاده کنید"
    ]
  },
  logo: {
    title: "لوگو",
    tip: "لوگو باید در هر سایز خوانا باشد. از فرمت PNG با پس‌زمینه شفاف استفاده کنید.",
    usage: [
      "پروفایل شبکه‌های اجتماعی",
      "سربرگ و کارت ویزیت",
      "واترمارک روی تصاویر"
    ]
  }
};


// ============================================
// MARKETING TACTIC EXPLANATIONS
// ============================================
export const marketingExplanations: Record<string, {
  description: string;
  howTo: string[];
  cost: "free" | "low" | "medium" | "high";
  difficulty: "easy" | "medium" | "hard";
}> = {
  "content": {
    description: "با تولید محتوای آموزشی و سرگرم‌کننده، مخاطب جذب کنید و اعتماد بسازید.",
    howTo: [
      "سوالات متداول مشتریان را پیدا کنید",
      "برای هر سوال یک پست یا ویدیو بسازید",
      "۳ بار در هفته منتشر کنید"
    ],
    cost: "free",
    difficulty: "easy"
  },
  "influencer": {
    description: "از افرادی که مخاطب زیاد دارند بخواهید محصول شما را معرفی کنند.",
    howTo: [
      "اینفلوئنسرهای کوچک (۵-۵۰ هزار فالوور) پیدا کنید",
      "پیشنهاد همکاری بدهید (محصول رایگان یا پورسانت)",
      "محتوای طبیعی بخواهید، نه تبلیغ مستقیم"
    ],
    cost: "medium",
    difficulty: "medium"
  },
  "referral": {
    description: "به مشتریان فعلی تخفیف بدهید تا دوستانشان را معرفی کنند.",
    howTo: [
      "یک کد تخفیف منحصربه‌فرد برای هر مشتری بسازید",
      "هم به معرف و هم به معرفی‌شده تخفیف بدهید",
      "از مشتریان راضی بخواهید به دوستان معرفی کنند"
    ],
    cost: "low",
    difficulty: "easy"
  }
};


// ============================================
// LEGAL TERM EXPLANATIONS
// ============================================
export const legalExplanations: Record<string, string> = {
  "enamad": "نماد اعتماد الکترونیکی که نشان می‌دهد سایت شما قابل اعتماد و قانونی است. برای فروش آنلاین تقریباً الزامی است.",
  "senf": "صنف یعنی اتحادیه مربوط به نوع کسب‌وکار شما. برخی فعالیت‌ها نیاز به عضویت در صنف دارند.",
  "javaz": "جواز کسب یعنی مجوز رسمی برای فعالیت تجاری که از اتحادیه صنفی گرفته می‌شود.",
  "maliat": "هر کسب‌وکار باید کد اقتصادی بگیرد و مالیات بدهد. می‌توان با حسابدار مشورت کرد.",
  "sabt": "ثبت شرکت برای فعالیت‌های بزرگ‌تر لازم است. در ابتدا می‌توان بدون ثبت شروع کرد."
};


// ============================================
// FEATURE EXPLANATIONS FOR DASHBOARD
// ============================================
export const featureExplanations = {
  roadmap: {
    title: "نقشه راه چیست؟",
    description: "نقشه راه مثل یک چک‌لیست هوشمند است که قدم به قدم مراحل موفقیت کسب‌وکارتان را نشان می‌دهد. هر مرحله را انجام دهید و تیک بزنید!"
  },
  canvas: {
    title: "بوم کسب‌وکار چیست؟",
    description: "بوم کسب‌وکار یک نقشه یک‌صفحه‌ای از کل کسب‌وکار شماست. در یک نگاه می‌بینید که چه مشکلی حل می‌کنید، چطور پول درمی‌آورید و چه چیزی شما را خاص می‌کند."
  },
  brand: {
    title: "هویت بصری چیست؟",
    description: "هویت بصری یعنی ظاهر برند شما: رنگ‌ها، فونت و لوگو. وقتی همه جا یکسان باشد، مشتریان شما را به یاد می‌سپارند."
  },
  marketing: {
    title: "بازاریابی چیست؟",
    description: "بازاریابی یعنی کارهایی که می‌کنید تا مشتریان جدید پیدا کنید و آن‌ها را به خرید ترغیب کنید. با روش‌های رایگان مثل اینستاگرام شروع کنید!"
  },
  legal: {
    title: "الزامات قانونی چیست؟",
    description: "برخی فعالیت‌ها نیاز به مجوز دارند. در ابتدا نگران نباشید - بیشتر کسب‌وکارهای کوچک می‌توانند بدون مجوز شروع کنند و بعداً رسمی شوند."
  }
};


// ============================================
// GLOSSARY OF BUSINESS TERMS
// ============================================
export const businessGlossary: Record<string, string> = {
  "MVP": "حداقل محصول قابل ارائه - ساده‌ترین نسخه محصول که فقط یک مشکل را حل کند",
  "استارتاپ": "کسب‌وکار نوپا که معمولاً با ایده جدید و تیم کوچک شروع می‌کند",
  "اعتبارسنجی": "بررسی اینکه آیا مردم واقعاً محصول شما را می‌خواهند قبل از ساختن",
  "پرسونا": "شخصیت فرضی که نماینده مشتری ایده‌آل شماست",
  "فانل فروش": "مسیری که مشتری از آشنایی تا خرید طی می‌کند",
  "کانال فروش": "جایی که محصول را می‌فروشید: سایت، اینستاگرام، دیجیکالا و...",
  "نرخ تبدیل": "درصد افرادی که از بازدیدکننده تبدیل به خریدار می‌شوند",
  "بوم ناب": "ابزاری یک‌صفحه‌ای برای خلاصه کردن کل مدل کسب‌وکار",
  "ارزش پیشنهادی": "دلیل اینکه مشتری شما را به رقیب ترجیح می‌دهد",
  "جریان درآمدی": "روش‌های مختلف پول درآوردن از کسب‌وکار"
};


// ============================================
// HELPER FUNCTIONS
// ============================================

/**
 * Find the best matching guide for a roadmap step text
 */
export function findGuideForStep(stepText: string): TaskGuide | null {
  const keywords: Record<string, string[]> = {
    "website": ["سایت", "وب", "وبسایت", "صفحه وب"],
    "instagram": ["اینستاگرام", "اینستا", "پیج"],
    "telegram": ["تلگرام", "کانال"],
    "logo": ["لوگو", "نشان", "آرم"],
    "validation": ["اعتبارسنجی", "تست ایده", "بررسی ایده"],
    "mvp": ["MVP", "نسخه اولیه", "محصول اولیه", "پروتوتایپ"],
    "pricing": ["قیمت", "قیمت‌گذاری", "تعرفه"],
    "content": ["محتوا", "پست", "تولید محتوا"],
    "payment": ["پرداخت", "درگاه", "زرین‌پال"],
    "enamad": ["اینماد", "ای‌نماد", "نماد اعتماد", "enamad"]
  };

  const lowerText = stepText.toLowerCase();
  
  for (const [key, words] of Object.entries(keywords)) {
    if (words.some(word => lowerText.includes(word.toLowerCase()))) {
      return roadmapTaskGuides[key] || null;
    }
  }
  
  return null;
}

/**
 * Get cost label in Persian
 */
export function getCostLabel(cost: "free" | "low" | "medium" | "high"): string {
  const labels = {
    free: "رایگان",
    low: "هزینه کم",
    medium: "هزینه متوسط",
    high: "هزینه بالا"
  };
  return labels[cost];
}

/**
 * Get difficulty label in Persian
 */
export function getDifficultyLabel(difficulty: "easy" | "medium" | "hard"): string {
  const labels = {
    easy: "آسان",
    medium: "متوسط",
    hard: "پیشرفته"
  };
  return labels[difficulty];
}
